# CÃ‚Y THÆ¯ Má»¤C SCREEN FLOW THEO ROLE

Dá»±a trÃªn Documents.md vÃ  25 Models trong infrastructure/models/

---

## ğŸ” AUTH FLOW (DÃ¹ng chung cho táº¥t cáº£ Roles)

### Login & Logout
```
screens/
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ LoginScreen.tsx                        # Login chung cho Admin/Owner/Employee
â”‚   â”‚                                         # - Username/Password input
â”‚   â”‚                                         # - Auto detect role sau khi login
â”‚   â”‚                                         # - Redirect theo role:
â”‚   â”‚                                         #   + Admin â†’ AdminDashboardScreen
â”‚   â”‚                                         #   + Owner â†’ OwnerDashboardScreen
â”‚   â”‚                                         #   + Employee â†’ EmployeeHomeScreen
â”‚   â”‚
â”‚   â”œâ”€â”€ LogoutScreen.tsx                       # Logout chung
â”‚   â”‚                                         # - Clear session/token
â”‚   â”‚                                         # - Redirect vá» LoginScreen
â”‚   â”‚
â”‚   â””â”€â”€ ForgotPasswordScreen.tsx              # QuÃªn máº­t kháº©u (optional)
```

### Registration Flow (Chá»‰ cho Owner)
```
screens/
â”œâ”€â”€ registration/
â”‚   â”œâ”€â”€ SubscriptionPlanSelectionScreen.tsx    # BÆ°á»›c 1: Chá»n gÃ³i Ä‘Äƒng kÃ½
â”‚   â”‚                                         # - Hiá»ƒn thá»‹ danh sÃ¡ch subscription plans
â”‚   â”‚                                         # - So sÃ¡nh cÃ¡c gÃ³i (Basic, Pro, etc.)
â”‚   â”‚                                         # - Chá»n gÃ³i Ä‘Äƒng kÃ½
â”‚   â”‚
â”‚   â”œâ”€â”€ HouseholdRegistrationScreen.tsx       # BÆ°á»›c 2: Äiá»n thÃ´ng tin há»™ kinh doanh
â”‚   â”‚                                         # - TÃªn há»™ kinh doanh (name)
â”‚   â”‚                                         # - MÃ£ sá»‘ thuáº¿ (tax_code) - CCCD ngÆ°á»i Ä‘áº¡i diá»‡n
â”‚   â”‚                                         # - Sá»‘ Ä‘iá»‡n thoáº¡i (phone)
â”‚   â”‚                                         # - Äá»‹a chá»‰ (address)
â”‚   â”‚                                         # - MÃ´ táº£ (description)
â”‚   â”‚                                         # - Status (default: Active)
â”‚   â”‚
â”‚   â”œâ”€â”€ OwnerAccountCreationScreen.tsx        # BÆ°á»›c 3: Táº¡o tÃ i khoáº£n Owner
â”‚   â”‚                                         # - Username (user_name)
â”‚   â”‚                                         # - Password (password)
â”‚   â”‚                                         # - Confirm Password
â”‚   â”‚                                         # - Email (optional)
â”‚   â”‚                                         # - Role: Owner (auto-assign)
â”‚   â”‚                                         # - Household ID (link to household vá»«a táº¡o)
â”‚   â”‚                                         # - Táº¡o subscription vá»›i plan Ä‘Ã£ chá»n
â”‚   â”‚
â”‚   â””â”€â”€ RegistrationSuccessScreen.tsx         # ÄÄƒng kÃ½ thÃ nh cÃ´ng
â”‚                                             # - Hiá»ƒn thá»‹ thÃ´ng tin Ä‘Ã£ Ä‘Äƒng kÃ½
â”‚                                             # - Button: "ÄÄƒng nháº­p ngay"
â”‚                                             # - Redirect Ä‘áº¿n LoginScreen
```

---

## ğŸ“± ADMIN ROLE (Quáº£n trá»‹ viÃªn)

### Dashboard & Analytics
```
screens/
â”œâ”€â”€ admin/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ AdminDashboardScreen.tsx          # F004: view_platform_analytics
â”‚   â”‚   â””â”€â”€ PlatformAnalyticsScreen.tsx       # F004: view_platform_analytics
â”‚   â”‚
â”‚   â”œâ”€â”€ households/
â”‚   â”‚   â”œâ”€â”€ HouseholdListScreen.tsx           # F001: manage_households (List)
â”‚   â”‚   â”œâ”€â”€ HouseholdDetailScreen.tsx         # F001: manage_households (Detail)
â”‚   â”‚   â”œâ”€â”€ HouseholdCreateScreen.tsx         # F001: manage_households (Create)
â”‚   â”‚   â””â”€â”€ HouseholdEditScreen.tsx           # F001: manage_households (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ subscriptions/
â”‚   â”‚   â”œâ”€â”€ SubscriptionListScreen.tsx        # F003: manage_subscriptions (List)
â”‚   â”‚   â”œâ”€â”€ SubscriptionDetailScreen.tsx      # F003: manage_subscriptions (Detail)
â”‚   â”‚   â”œâ”€â”€ SubscriptionCreateScreen.tsx      # F003: manage_subscriptions (Create)
â”‚   â”‚   â””â”€â”€ SubscriptionEditScreen.tsx        # F003: manage_subscriptions (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ subscription-plans/
â”‚   â”‚   â”œâ”€â”€ SubscriptionPlanListScreen.tsx    # F002: manage_subscription_plans (List)
â”‚   â”‚   â”œâ”€â”€ SubscriptionPlanDetailScreen.tsx  # F002: manage_subscription_plans (Detail)
â”‚   â”‚   â”œâ”€â”€ SubscriptionPlanCreateScreen.tsx  # F002: manage_subscription_plans (Create)
â”‚   â”‚   â””â”€â”€ SubscriptionPlanEditScreen.tsx    # F002: manage_subscription_plans (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ UserListScreen.tsx                # F005: manage_admin_users (List)
â”‚   â”‚   â”œâ”€â”€ UserDetailScreen.tsx              # F005: manage_admin_users (Detail)
â”‚   â”‚   â”œâ”€â”€ UserCreateScreen.tsx              # F005: manage_admin_users (Create)
â”‚   â”‚   â””â”€â”€ UserEditScreen.tsx                # F005: manage_admin_users (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ accounting/
â”‚   â”‚   â”œâ”€â”€ AccountingLedgerListScreen.tsx    # F007: view_all_accounting_ledgers
â”‚   â”‚   â”œâ”€â”€ AccountingLedgerExportScreen.tsx  # F007: Export reports
â”‚   â”‚   â””â”€â”€ AccountingLedgerDetailScreen.tsx  # F007: View detail
â”‚   â”‚
â”‚   â”œâ”€â”€ system-config/
â”‚   â”‚   â”œâ”€â”€ SystemConfigScreen.tsx            # F006: manage_system_config (View)
â”‚   â”‚   â””â”€â”€ SystemConfigEditScreen.tsx        # F006: manage_system_config (Update)
â”‚   â”‚
â”‚   â””â”€â”€ roles-functions/
â”‚       â”œâ”€â”€ RoleListScreen.tsx                # Admin: manage roles
â”‚       â”œâ”€â”€ RoleDetailScreen.tsx
â”‚       â”œâ”€â”€ FunctionListScreen.tsx            # Admin: manage functions
â”‚       â”œâ”€â”€ FunctionDetailScreen.tsx
â”‚       â””â”€â”€ RoleFunctionAssignScreen.tsx      # Admin: assign functions to roles
```

---

## ğŸª OWNER ROLE (Chá»§ há»™ kinh doanh)


### Dashboard & Home
```
screens/
â”œâ”€â”€ owner/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ OwnerDashboardScreen.tsx          # Overview: revenue, alerts, summary
â”‚   â”‚   â””â”€â”€ HomeScreen.tsx                    # Quick access to main features
â”‚   â”‚
â”‚   â”œâ”€â”€ household/
â”‚   â”‚   â”œâ”€â”€ HouseholdProfileScreen.tsx        # F102: view_own_household (View)
â”‚   â”‚   â””â”€â”€ HouseholdEditScreen.tsx           # F102: view_own_household (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ employees/
â”‚   â”‚   â”œâ”€â”€ EmployeeListScreen.tsx            # F101: manage_employees (List)
â”‚   â”‚   â”œâ”€â”€ EmployeeDetailScreen.tsx          # F101: manage_employees (Detail)
â”‚   â”‚   â”œâ”€â”€ EmployeeCreateScreen.tsx          # F101: manage_employees (Create)
â”‚   â”‚   â””â”€â”€ EmployeeEditScreen.tsx            # F101: manage_employees (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ ProductListScreen.tsx             # F104: manage_products (List)
â”‚   â”‚   â”œâ”€â”€ ProductDetailScreen.tsx           # F104: manage_products (Detail)
â”‚   â”‚   â”œâ”€â”€ ProductCreateScreen.tsx           # F104: manage_products (Create)
â”‚   â”‚   â””â”€â”€ ProductEditScreen.tsx             # F104: manage_products (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ categories/
â”‚   â”‚   â”œâ”€â”€ CategoryListScreen.tsx            # F103: manage_categories (List)
â”‚   â”‚   â”œâ”€â”€ CategoryDetailScreen.tsx          # F103: manage_categories (Detail)
â”‚   â”‚   â”œâ”€â”€ CategoryCreateScreen.tsx          # F103: manage_categories (Create)
â”‚   â”‚   â””â”€â”€ CategoryEditScreen.tsx            # F103: manage_categories (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ units/
â”‚   â”‚   â”œâ”€â”€ UnitListScreen.tsx                # F105: manage_units (List)
â”‚   â”‚   â”œâ”€â”€ UnitDetailScreen.tsx              # F105: manage_units (Detail)
â”‚   â”‚   â”œâ”€â”€ UnitCreateScreen.tsx              # F105: manage_units (Create)
â”‚   â”‚   â””â”€â”€ UnitEditScreen.tsx                # F105: manage_units (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ warehouses/
â”‚   â”‚   â”œâ”€â”€ WarehouseListScreen.tsx           # F107: manage_warehouses (List)
â”‚   â”‚   â”œâ”€â”€ WarehouseDetailScreen.tsx         # F107: manage_warehouses (Detail)
â”‚   â”‚   â”œâ”€â”€ WarehouseCreateScreen.tsx         # F107: manage_warehouses (Create)
â”‚   â”‚   â””â”€â”€ WarehouseEditScreen.tsx           # F107: manage_warehouses (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â”œâ”€â”€ InventoryListScreen.tsx           # F106: manage_inventory (List)
â”‚   â”‚   â”œâ”€â”€ InventoryDetailScreen.tsx         # F106: manage_inventory (Detail)
â”‚   â”‚   â”œâ”€â”€ InventoryCreateScreen.tsx         # F106: manage_inventory (Create)
â”‚   â”‚   â””â”€â”€ InventoryEditScreen.tsx           # F106: manage_inventory (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ import-receipts/
â”‚   â”‚   â”œâ”€â”€ ImportReceiptListScreen.tsx       # F108: manage_import_receipts (List)
â”‚   â”‚   â”œâ”€â”€ ImportReceiptDetailScreen.tsx     # F108: manage_import_receipts (Detail)
â”‚   â”‚   â”œâ”€â”€ ImportReceiptCreateScreen.tsx     # F108: manage_import_receipts (Create)
â”‚   â”‚   â”œâ”€â”€ ImportReceiptEditScreen.tsx       # F108: manage_import_receipts (Update)
â”‚   â”‚   â””â”€â”€ ImportReceiptConfirmScreen.tsx    # F108: Confirm import (tÄƒng inventory)
â”‚   â”‚
â”‚   â”œâ”€â”€ import-details/
â”‚   â”‚   â”œâ”€â”€ ImportDetailListScreen.tsx        # List details cá»§a import receipt
â”‚   â”‚   â”œâ”€â”€ ImportDetailCreateScreen.tsx      # Create detail
â”‚   â”‚   â””â”€â”€ ImportDetailEditScreen.tsx        # Update detail
â”‚   â”‚
â”‚   â”œâ”€â”€ export-receipts/
â”‚   â”‚   â”œâ”€â”€ ExportReceiptListScreen.tsx       # F118: manage_export_receipts (List)
â”‚   â”‚   â”œâ”€â”€ ExportReceiptDetailScreen.tsx     # F118: manage_export_receipts (Detail)
â”‚   â”‚   â”œâ”€â”€ ExportReceiptCreateScreen.tsx     # F118: manage_export_receipts (Create)
â”‚   â”‚   â”œâ”€â”€ ExportReceiptEditScreen.tsx       # F118: manage_export_receipts (Update)
â”‚   â”‚   â””â”€â”€ ExportReceiptConfirmScreen.tsx    # F118: Confirm export (giáº£m inventory)
â”‚   â”‚
â”‚   â”œâ”€â”€ export-details/
â”‚   â”‚   â”œâ”€â”€ ExportDetailListScreen.tsx        # List details cá»§a export receipt
â”‚   â”‚   â”œâ”€â”€ ExportDetailCreateScreen.tsx      # Create detail
â”‚   â”‚   â””â”€â”€ ExportDetailEditScreen.tsx        # Update detail
â”‚   â”‚
â”‚   â”œâ”€â”€ customers/
â”‚   â”‚   â”œâ”€â”€ CustomerListScreen.tsx            # F109: manage_customers (List)
â”‚   â”‚   â”œâ”€â”€ CustomerDetailScreen.tsx          # F109: manage_customers (Detail)
â”‚   â”‚   â”œâ”€â”€ CustomerCreateScreen.tsx          # F109: manage_customers (Create)
â”‚   â”‚   â”œâ”€â”€ CustomerEditScreen.tsx            # F109: manage_customers (Update)
â”‚   â”‚   â”œâ”€â”€ CustomerHistoryScreen.tsx         # View purchase history
â”‚   â”‚   â””â”€â”€ CustomerDebtScreen.tsx            # View outstanding debt
â”‚   â”‚
â”‚   â”œâ”€â”€ sellers/
â”‚   â”‚   â”œâ”€â”€ SellerListScreen.tsx              # F110: manage_sellers (List)
â”‚   â”‚   â”œâ”€â”€ SellerDetailScreen.tsx            # F110: manage_sellers (Detail)
â”‚   â”‚   â”œâ”€â”€ SellerCreateScreen.tsx            # F110: manage_sellers (Create)
â”‚   â”‚   â””â”€â”€ SellerEditScreen.tsx              # F110: manage_sellers (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ invoices/
â”‚   â”‚   â”œâ”€â”€ InvoiceListScreen.tsx             # F111: manage_all_invoices (List)
â”‚   â”‚   â”œâ”€â”€ InvoiceDetailScreen.tsx           # F111: manage_all_invoices (Detail)
â”‚   â”‚   â”œâ”€â”€ InvoiceCreateScreen.tsx           # F111: manage_all_invoices (Create)
â”‚   â”‚   â”œâ”€â”€ InvoiceEditScreen.tsx             # F111: manage_all_invoices (Update)
â”‚   â”‚   â””â”€â”€ InvoicePrintScreen.tsx            # Print invoice
â”‚   â”‚
â”‚   â”œâ”€â”€ invoice-details/
â”‚   â”‚   â”œâ”€â”€ InvoiceDetailListScreen.tsx       # List invoice details
â”‚   â”‚   â”œâ”€â”€ InvoiceDetailCreateScreen.tsx     # Create invoice detail
â”‚   â”‚   â””â”€â”€ InvoiceDetailEditScreen.tsx       # Update invoice detail
â”‚   â”‚
â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”œâ”€â”€ PaymentListScreen.tsx             # F112: manage_payments (List)
â”‚   â”‚   â”œâ”€â”€ PaymentDetailScreen.tsx           # F112: manage_payments (Detail)
â”‚   â”‚   â”œâ”€â”€ PaymentCreateScreen.tsx           # F112: manage_payments (Create)
â”‚   â”‚   â””â”€â”€ PaymentEditScreen.tsx             # F112: manage_payments (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ payment-methods/
â”‚   â”‚   â”œâ”€â”€ PaymentMethodListScreen.tsx       # F113: manage_payment_methods (List)
â”‚   â”‚   â”œâ”€â”€ PaymentMethodDetailScreen.tsx     # F113: manage_payment_methods (Detail)
â”‚   â”‚   â”œâ”€â”€ PaymentMethodCreateScreen.tsx     # F113: manage_payment_methods (Create)
â”‚   â”‚   â””â”€â”€ PaymentMethodEditScreen.tsx       # F113: manage_payment_methods (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ debt-records/
â”‚   â”‚   â”œâ”€â”€ DebtRecordListScreen.tsx          # F114: manage_debt_records (List)
â”‚   â”‚   â”œâ”€â”€ DebtRecordDetailScreen.tsx        # F114: manage_debt_records (Detail)
â”‚   â”‚   â”œâ”€â”€ DebtRecordCreateScreen.tsx        # F114: manage_debt_records (Create)
â”‚   â”‚   â””â”€â”€ DebtRecordEditScreen.tsx          # F114: manage_debt_records (Update)
â”‚   â”‚
â”‚   â”œâ”€â”€ reports/
â”‚   â”‚   â”œâ”€â”€ ReportDashboardScreen.tsx         # F115: view_household_reports
â”‚   â”‚   â”œâ”€â”€ DailyRevenueReportScreen.tsx      # Daily revenue report
â”‚   â”‚   â”œâ”€â”€ MonthlyRevenueReportScreen.tsx    # Monthly revenue report
â”‚   â”‚   â”œâ”€â”€ OutstandingDebtReportScreen.tsx   # Outstanding debt report
â”‚   â”‚   â””â”€â”€ BestSellersReportScreen.tsx       # Top-selling products
â”‚   â”‚
â”‚   â””â”€â”€ accounting/
â”‚       â”œâ”€â”€ AccountingLedgerListScreen.tsx    # F116: view_accounting_ledgers
â”‚       â”œâ”€â”€ AccountingLedgerExportScreen.tsx  # F117: export_reports (Excel)
â”‚       â””â”€â”€ AccountingLedgerDetailScreen.tsx  # View detail
```

**LÆ°u Ã½:** Owner cÃ³ táº¥t cáº£ chá»©c nÄƒng cá»§a Employee (xem pháº§n Employee bÃªn dÆ°á»›i)

---

## ğŸ‘¤ EMPLOYEE ROLE (NhÃ¢n viÃªn)

### Main Features
```
screens/
â”œâ”€â”€ employee/
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ EmployeeHomeScreen.tsx            # Quick access screen
â”‚   â”‚   â””â”€â”€ NotificationCenterScreen.tsx      # F215: receive_notifications
â”‚   â”‚
â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”œâ”€â”€ ProductListScreen.tsx             # F201: view_products (Read-only)
â”‚   â”‚   â””â”€â”€ ProductDetailScreen.tsx           # F201: view_products (Read-only)
â”‚   â”‚
â”‚   â”œâ”€â”€ categories/
â”‚   â”‚   â””â”€â”€ CategoryListScreen.tsx            # F202: view_categories (Read-only)
â”‚   â”‚
â”‚   â”œâ”€â”€ units/
â”‚   â”‚   â””â”€â”€ UnitListScreen.tsx                # F204: view_units (Read-only)
â”‚   â”‚
â”‚   â”œâ”€â”€ inventory/
â”‚   â”‚   â”œâ”€â”€ InventoryListScreen.tsx           # F203: view_inventory (Read-only)
â”‚   â”‚   â””â”€â”€ InventoryDetailScreen.tsx         # F203: Check stock by product/warehouse
â”‚   â”‚
â”‚   â”œâ”€â”€ customers/
â”‚   â”‚   â”œâ”€â”€ CustomerListScreen.tsx            # F205: view_customers (Read-only)
â”‚   â”‚   â”œâ”€â”€ CustomerDetailScreen.tsx          # F205: view_customers (Read-only)
â”‚   â”‚   â””â”€â”€ CustomerDebtScreen.tsx            # F206: view_customer_debt
â”‚   â”‚
â”‚   â”œâ”€â”€ orders/
â”‚   â”‚   â”œâ”€â”€ OrderCreateScreen.tsx             # F207: create_sales_invoice
â”‚   â”‚   â”‚                                     # - Search products
â”‚   â”‚   â”‚                                     # - Add to cart
â”‚   â”‚   â”‚                                     # - Select customer (optional)
â”‚   â”‚   â”‚                                     # - Record debt if on credit
â”‚   â”‚   â”‚                                     # - Create draft invoice
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ OrderListScreen.tsx               # F208: view_own_invoices
â”‚   â”‚   â”œâ”€â”€ OrderDetailScreen.tsx             # F208: View invoice detail
â”‚   â”‚   â”œâ”€â”€ OrderEditScreen.tsx               # F209: update_draft_invoice
â”‚   â”‚   â””â”€â”€ OrderConfirmScreen.tsx            # F210: confirm_invoice
â”‚   â”‚
â”‚   â”œâ”€â”€ draft-orders/
â”‚   â”‚   â”œâ”€â”€ DraftOrderListScreen.tsx          # F213: view_draft_orders (from AI)
â”‚   â”‚   â”œâ”€â”€ DraftOrderDetailScreen.tsx        # View draft order detail
â”‚   â”‚   â””â”€â”€ DraftOrderConfirmScreen.tsx       # F214: confirm_draft_order
â”‚   â”‚
â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”œâ”€â”€ PaymentCreateScreen.tsx           # F211: record_payment
â”‚   â”‚   â””â”€â”€ PaymentDetailScreen.tsx           # F211: view payment
â”‚   â”‚
â”‚   â”œâ”€â”€ debt-records/
â”‚   â”‚   â”œâ”€â”€ DebtRecordCreateScreen.tsx        # F212: record_debt
â”‚   â”‚   â””â”€â”€ DebtRecordDetailScreen.tsx        # F212: view debt record
â”‚   â”‚
â”‚   â””â”€â”€ print/
â”‚       â””â”€â”€ InvoicePrintScreen.tsx            # Print sales orders
```

---

## ğŸ”„ SHARED SCREENS (DÃ¹ng chung cho nhiá»u Role)

### Common Components
```
components/
â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”œâ”€â”€ SearchBar.tsx
â”‚   â”œâ”€â”€ DataTable.tsx
â”‚   â”œâ”€â”€ FormInput.tsx
â”‚   â”œâ”€â”€ DatePicker.tsx
â”‚   â”œâ”€â”€ StatusBadge.tsx
â”‚   â””â”€â”€ ConfirmDialog.tsx
â”‚
â”œâ”€â”€ invoice/
â”‚   â”œâ”€â”€ InvoiceForm.tsx
â”‚   â”œâ”€â”€ InvoiceDetailForm.tsx
â”‚   â”œâ”€â”€ InvoiceSummary.tsx
â”‚   â””â”€â”€ InvoicePrintTemplate.tsx
â”‚
â”œâ”€â”€ product/
â”‚   â”œâ”€â”€ ProductCard.tsx
â”‚   â”œâ”€â”€ ProductSearch.tsx
â”‚   â””â”€â”€ ProductQuickAdd.tsx
â”‚
â”œâ”€â”€ customer/
â”‚   â”œâ”€â”€ CustomerSelect.tsx
â”‚   â”œâ”€â”€ CustomerInfo.tsx
â”‚   â””â”€â”€ DebtSummary.tsx
â”‚
â””â”€â”€ reports/
    â”œâ”€â”€ RevenueChart.tsx
    â”œâ”€â”€ DebtChart.tsx
    â””â”€â”€ ExportButton.tsx
```

---

## ğŸ“Š NAVIGATION FLOW

### Admin Navigation
```
LoginScreen (chung)
  â†“
AdminDashboardScreen
  â”œâ”€â”€ Households
  â”‚   â””â”€â”€ HouseholdListScreen â†’ Detail â†’ Create/Edit
  â”œâ”€â”€ Subscriptions
  â”‚   â””â”€â”€ SubscriptionListScreen â†’ Detail â†’ Create/Edit
  â”œâ”€â”€ Subscription Plans
  â”‚   â””â”€â”€ SubscriptionPlanListScreen â†’ Detail â†’ Create/Edit
  â”œâ”€â”€ Users
  â”‚   â””â”€â”€ UserListScreen â†’ Detail â†’ Create/Edit
  â”œâ”€â”€ Accounting Ledgers
  â”‚   â””â”€â”€ AccountingLedgerListScreen â†’ Export
  â””â”€â”€ System Config
      â””â”€â”€ SystemConfigScreen â†’ Edit
```

### Owner Navigation
```
LoginScreen (chung)
  â†“
OwnerDashboardScreen
  â”œâ”€â”€ Orders (same as Employee)
  â”œâ”€â”€ Products
  â”‚   â””â”€â”€ ProductListScreen â†’ Detail â†’ Create/Edit
  â”œâ”€â”€ Inventory
  â”‚   â”œâ”€â”€ InventoryListScreen
  â”‚   â””â”€â”€ Import/Export Receipts
  â”œâ”€â”€ Customers
  â”‚   â””â”€â”€ CustomerListScreen â†’ Detail â†’ History â†’ Debt
  â”œâ”€â”€ Reports
  â”‚   â”œâ”€â”€ Daily/Monthly Revenue
  â”‚   â”œâ”€â”€ Outstanding Debt
  â”‚   â””â”€â”€ Best Sellers
  â”œâ”€â”€ Accounting
  â”‚   â””â”€â”€ AccountingLedgerListScreen â†’ Export
  â”œâ”€â”€ Employees
  â”‚   â””â”€â”€ EmployeeListScreen â†’ Create/Edit
  â””â”€â”€ Settings
      â””â”€â”€ HouseholdProfileScreen â†’ Edit
```

### Employee Navigation
```
LoginScreen (chung)
  â†“
EmployeeHomeScreen
  â”œâ”€â”€ Create Order
  â”‚   â””â”€â”€ OrderCreateScreen
  â”‚       â”œâ”€â”€ Search Products
  â”‚       â”œâ”€â”€ Add to Cart
  â”‚       â”œâ”€â”€ Select Customer
  â”‚       â”œâ”€â”€ Record Debt (if on credit)
  â”‚       â””â”€â”€ Create Draft â†’ Confirm
  â”‚
  â”œâ”€â”€ View Orders
  â”‚   â””â”€â”€ OrderListScreen â†’ Detail â†’ Edit â†’ Confirm
  â”‚
  â”œâ”€â”€ Draft Orders (from AI)
  â”‚   â””â”€â”€ DraftOrderListScreen â†’ Detail â†’ Confirm
  â”‚
  â”œâ”€â”€ Products (View Only)
  â”‚   â””â”€â”€ ProductListScreen â†’ Detail
  â”‚
  â”œâ”€â”€ Inventory (View Only)
  â”‚   â””â”€â”€ InventoryListScreen â†’ Check Stock
  â”‚
  â”œâ”€â”€ Customers (View Only)
  â”‚   â””â”€â”€ CustomerListScreen â†’ Detail â†’ View Debt
  â”‚
  â”œâ”€â”€ Record Payment
  â”‚   â””â”€â”€ PaymentCreateScreen
  â”‚
  â”œâ”€â”€ Record Debt
  â”‚   â””â”€â”€ DebtRecordCreateScreen
  â”‚
  â””â”€â”€ Notifications
      â””â”€â”€ NotificationCenterScreen
```

---

## ğŸ¯ KEY USER FLOWS

### Flow 0: Owner Ä‘Äƒng kÃ½ tÃ i khoáº£n
```
1. LandingScreen / WelcomeScreen
   â†“
2. SubscriptionPlanSelectionScreen (registration/)
   â”œâ”€â”€ Hiá»ƒn thá»‹ danh sÃ¡ch subscription plans (tá»« Admin)
   â”œâ”€â”€ So sÃ¡nh cÃ¡c gÃ³i (Basic, Pro, Premium, etc.)
   â”œâ”€â”€ Chá»n gÃ³i Ä‘Äƒng kÃ½
   â””â”€â”€ LÆ°u plan_id
   â†“
3. HouseholdRegistrationScreen (registration/)
   â”œâ”€â”€ Äiá»n thÃ´ng tin há»™ kinh doanh:
   â”‚   â”œâ”€â”€ TÃªn há»™ kinh doanh (name)
   â”‚   â”œâ”€â”€ MÃ£ sá»‘ thuáº¿ (tax_code) - CCCD ngÆ°á»i Ä‘áº¡i diá»‡n
   â”‚   â”œâ”€â”€ Sá»‘ Ä‘iá»‡n thoáº¡i (phone)
   â”‚   â”œâ”€â”€ Äá»‹a chá»‰ (address)
   â”‚   â””â”€â”€ MÃ´ táº£ (description - optional)
   â”œâ”€â”€ Validation: check tax_code unique
   â””â”€â”€ Táº¡o Household record
   â†“
4. OwnerAccountCreationScreen (registration/)
   â”œâ”€â”€ Äiá»n thÃ´ng tin tÃ i khoáº£n:
   â”‚   â”œâ”€â”€ Username (user_name) - unique
   â”‚   â”œâ”€â”€ Password (password)
   â”‚   â”œâ”€â”€ Confirm Password
   â”‚   â””â”€â”€ Email (optional)
   â”œâ”€â”€ Auto-assign:
   â”‚   â”œâ”€â”€ Role: Owner
   â”‚   â”œâ”€â”€ Household ID: tá»« bÆ°á»›c 3
   â”‚   â””â”€â”€ Status: Active
   â”œâ”€â”€ Táº¡o User record vá»›i role Owner
   â””â”€â”€ Táº¡o Subscription record:
       â”œâ”€â”€ plan_id: tá»« bÆ°á»›c 2
       â”œâ”€â”€ household_id: tá»« bÆ°á»›c 3
       â”œâ”€â”€ start_date: today
       â”œâ”€â”€ end_date: start_date + plan duration
       â””â”€â”€ is_active: true
   â†“
5. RegistrationSuccessScreen (registration/)
   â”œâ”€â”€ Hiá»ƒn thá»‹ thÃ´ng tin Ä‘Ã£ Ä‘Äƒng kÃ½
   â””â”€â”€ Button: "ÄÄƒng nháº­p ngay"
   â†“
6. LoginScreen (auth/) - chung cho táº¥t cáº£ roles
   â””â”€â”€ Login vá»›i username/password vá»«a táº¡o
   â””â”€â”€ Auto detect role â†’ Redirect:
       â”œâ”€â”€ Admin â†’ AdminDashboardScreen
       â”œâ”€â”€ Owner â†’ OwnerDashboardScreen
       â””â”€â”€ Employee â†’ EmployeeHomeScreen
   â†“
7. OwnerDashboardScreen
```

### Flow 1: Employee táº¡o Ä‘Æ¡n bÃ¡n hÃ ng
```
1. EmployeeHomeScreen
   â†“
2. OrderCreateScreen
   â”œâ”€â”€ Search Products (F201)
   â”œâ”€â”€ Add to Cart
   â”œâ”€â”€ Select Customer (optional) (F205)
   â”œâ”€â”€ Check Customer Debt (F206)
   â”œâ”€â”€ Create Draft Invoice (F207)
   â†“
3. OrderEditScreen (if needed) (F209)
   â†“
4. OrderConfirmScreen (F210)
   â”œâ”€â”€ Auto deduct inventory
   â”œâ”€â”€ Auto create debt record (if on credit)
   â”œâ”€â”€ Auto update accounting ledger
   â†“
5. InvoicePrintScreen
```

### Flow 2: AI táº¡o draft order
```
1. AI receives message (text/voice)
   â†“
2. Generate draft order
   â†“
3. NotificationCenterScreen (F215) - Real-time notification
   â†“
4. DraftOrderListScreen (F213)
   â†“
5. DraftOrderDetailScreen - Review
   â†“
6. DraftOrderConfirmScreen (F214)
   â”œâ”€â”€ Convert to Invoice
   â”œâ”€â”€ Auto deduct inventory
   â””â”€â”€ Auto update accounting ledger
```

### Flow 3: Owner xem bÃ¡o cÃ¡o
```
1. OwnerDashboardScreen
   â†“
2. ReportDashboardScreen (F115)
   â”œâ”€â”€ DailyRevenueReportScreen
   â”œâ”€â”€ MonthlyRevenueReportScreen
   â”œâ”€â”€ OutstandingDebtReportScreen
   â””â”€â”€ BestSellersReportScreen
   â†“
3. AccountingLedgerListScreen (F116)
   â†“
4. AccountingLedgerExportScreen (F117)
   â””â”€â”€ Export Excel (Circular 88/2021/TT-BTC)
```

### Flow 4: Owner quáº£n lÃ½ nháº­p hÃ ng
```
1. OwnerDashboardScreen
   â†“
2. ImportReceiptListScreen (F108)
   â†“
3. ImportReceiptCreateScreen
   â”œâ”€â”€ Add Import Details
   â””â”€â”€ Save as Draft
   â†“
4. ImportReceiptConfirmScreen
   â”œâ”€â”€ Confirm import
   â”œâ”€â”€ Auto increase inventory
   â””â”€â”€ Auto update accounting ledger
```

---

## ğŸ“ NOTES

1. **Owner Registration Flow** - Flow Ä‘Äƒng kÃ½ Owner gá»“m 3 bÆ°á»›c:
   - BÆ°á»›c 1: Chá»n Subscription Plan (láº¥y tá»« danh sÃ¡ch plans do Admin quáº£n lÃ½)
   - BÆ°á»›c 2: Äiá»n thÃ´ng tin Household (táº¡o household record)
   - BÆ°á»›c 3: Táº¡o Owner account (táº¡o user vá»›i role Owner, link vá»›i household, táº¡o subscription)
   - Sau khi Ä‘Äƒng kÃ½ thÃ nh cÃ´ng, tá»± Ä‘á»™ng redirect Ä‘áº¿n LoginScreen

2. **Owner cÃ³ táº¥t cáº£ chá»©c nÄƒng cá»§a Employee** - Owner cÃ³ thá»ƒ táº¡o order, confirm invoice, etc.

2. **Real-time Notifications** - DÃ¹ng WebSocket hoáº·c polling Ä‘á»ƒ hiá»ƒn thá»‹ draft orders tá»« AI

3. **Print Templates** - Sá»­ dá»¥ng template theo Circular 88/2021/TT-BTC cho invoices vÃ  reports

4. **Search & Filter** - Táº¥t cáº£ list screens Ä‘á»u cÃ³ search vÃ  filter functionality

5. **Keyboard Shortcuts** - OrderCreateScreen há»— trá»£ keyboard shortcuts cho fast operations

6. **Offline Support** - CÃ³ thá»ƒ cáº§n cache data cho offline mode (mobile app)

7. **Image Upload** - ProductCreateScreen/EditScreen há»— trá»£ upload product images

8. **Barcode Scanning** - CÃ³ thá»ƒ tÃ­ch há»£p barcode scanner cho product search (náº¿u cÃ³ hardware)
9. **Hiá»ƒn thá»‹ vai trÃ²** - á» trang Home Screen hiá»ƒn thá»‹ Vai trÃ² tÆ°Æ¡ng á»©ng.
